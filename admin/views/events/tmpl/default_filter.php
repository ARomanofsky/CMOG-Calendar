<?php/*** @package CMOGCAL* @subpackage Events* @copyright Copyright Andrew W Romanofsky - *                      Orthodox Church of the Mother of God*                      Mays Landing NJ. All rights reserved.* @license GNU General Public License version 2 or later.* * @createdate Wednesday, May 08, 2013 - 12:43:14 PM* @filename default_filter.php* @folder \cmogcal\admin\views\events\tmpl*/ // No direct accessdefined('_JEXEC') or die('Restricted access');   $date = getDate();$search = JRequest::getCmd('search');$SDay = JRequest::getCmd('SDay'); if ($SDay == "") $SDay = $date["mday"];$SMonth = JRequest::getCmd('SMonth'); if ($SMonth == "") $SMonth = $date["mon"];$SYear = JRequest::getCmd('SYear'); if ($SYear == "") $SYear = $date["year"];$WYear= JRequest::getCmd('WYear');$Filter = JRequest::getCmd('Filter'); if ($Filter == "") $Filter  = "FNone";$FClass = JRequest::getCmd('FClass'); if ($FClass == "") $FClass  = "CNone";$Templates= JRequest::getCmd('Templates');$hidelinks= JRequest::getCmd('hidelinks'); if ($hidelinks== "") $hidelinks = JRequest::getCmd('savedhidelinks');$state = $this->get('state');$fo = $state->filter_order;JHtml::addIncludePath(JPATH_COMPONENT.'/helpers/html');JHtml::_('behavior.tooltip');JHtml::_('behavior.multiselect');$user		= JFactory::getUser();$userId		= $user->get('id');$saveOrder	= $listOrder == 'a.ordering';?> Show links? <input type="radio" name="filter_showlinks" value="Yes"<?php if ($state->get('filter.showlinks') == "Yes") echo (" checked") ?> onchange="this.form.submit()" > Yes<input type="radio" name="filter_showlinks" value="No"<?php if ($state->get('filter.showlinks') == "No") echo (" checked") ?> onchange="this.form.submit()" > No<br>			<fieldset id="filter-bar">			<div class="filter-search fltlft">				<label class="filter-search-lbl" for="filter_search"><?php echo JText::_('JSEARCH_FILTER_LABEL'); ?></label>				<input type="text" name="filter_search" id="filter_search" onchange=" document.id('submit_button').disabled=false" value="<?php echo $this->escape($state->get('filter.search')); ?>" title="<?php echo JText::_('COM_CMOGCAL_SEARCH_EVENT_NAME'); ?>" />					   	<?php $filter_month = $state->get('filter.month'); ?>				<label for="filter_month">Date: </label>				   			<select name="filter_month" class="inputbox"id="filter_month" onchange=" document.id('submit_button').disabled=false" >			<option value=""  disabled >- Select month -</option>			<option value="0" <?php if ($filter_month == 0 ) echo " selected";?> >All months</option>			<option value="1" <?php if ($filter_month == 1 ) echo " selected";?> ><?php echo JText::_('JANUARY'); ?></option>			<option value="2" <?php if ($filter_month == 2 ) echo " selected";?> ><?php echo JText::_('FEBRUARY'); ?></option>			<option value="3" <?php if ($filter_month == 3 ) echo " selected";?> ><?php echo JText::_('MARCH'); ?></option>			<option value="4" <?php if ($filter_month == 4 ) echo " selected";?> ><?php echo JText::_('APRIL'); ?></option>			<option value="5" <?php if ($filter_month == 5 ) echo " selected";?> ><?php echo JText::_('MAY'); ?></option>			<option value="6" <?php if ($filter_month == 6 ) echo " selected";?> ><?php echo JText::_('JUNE'); ?></option>			<option value="7" <?php if ($filter_month == 7 ) echo " selected";?> ><?php echo JText::_('JULY'); ?></option>			<option value="8" <?php if ($filter_month == 8 ) echo " selected";?> ><?php echo JText::_('AUGUST'); ?></option>			<option value="9" <?php if ($filter_month == 9 ) echo " selected";?> ><?php echo JText::_('SEPTEMBER'); ?></option> 			<option value="10" <?php if ($filter_month == 10) echo " selected";?> ><?php echo JText::_('OCTOBER'); ?>			<option value="11" <?php if ($filter_month == 11) echo " selected";?> ><?php echo JText::_('NOVEMBER'); ?></option>			<option value="12" <?php if ($filter_month == 12) echo " selected";?> ><?php echo JText::_('DECEMBER'); ?></option>			</select>					   	<?php $filter_day = $state->get('filter.day'); ?>					<label for="filter_day">/ </label>					<input size="9" type="text" name="filter_day" onchange=" document.id('submit_button').disabled=false" class="inputbox" id="filter_day" value="<?php if ($filter_day == 0 ) {					 echo ( "all days" );					  }else{					echo ($filter_day);					   }?>" title="<?php echo JText::_('COM_CMOGCAL_FILTER_DAY'); ?>"  ;" />	<?php $filter_year = $state->get('filter.year'); ?>					<label for="filter_year">/ </label>					<input size="9" type="text" name="filter_year" onchange=" document.id('submit_button').disabled=false" class="inputbox"  id="filter_year" value="<?php if ($filter_year == 0 ) {					 echo ( "all years" );					  }else{					echo ($filter_year);					   }?>" title="<?php echo JText::_('COM_CMOGCAL_FILTER_YEAR'); ?>" ;" />				<button  type="submit" disabled id="submit_button"><?php echo JText::_('JSEARCH_FILTER_SUBMIT'); ?></button>				<button type="button" title="<?php echo JText::_('COM_CMOGCAL_FILTER_CLEAR'); ?>" onclick="				document.id('filter_month').value='<?php echo $date["mon"]?>';document.id('filter_day').value='<?php echo $date["mday"]?>';document.id('filter_year').value='<?php echo $date["year"]?>';				document.id('filter_search').value='';this.form.submit();"><?php echo JText::_('JSEARCH_FILTER_CLEAR'); ?></button> 			</div>						<div class="filter-select fltrt">				<select name="filter_published" class="inputbox" onchange="this.form.submit()">					<option value=""><?php echo JText::_('JOPTION_SELECT_PUBLISHED');?></option>					<?php echo JHtml::_('select.options', JHtml::_('jgrid.publishedOptions'), 'value', 'text', $state->get('filter.published'), true);?>				</select>				<select name="filter_category_id" class="inputbox" onchange="this.form.submit()">					<option value=""><?php echo JText::_('JOPTION_SELECT_CATEGORY');?></option>					<?php echo JHtml::_('select.options', JHtml::_('category.options', 'com_cmogcal'), 'value', 'text', $state->get('filter.category_id') );?>				</select>								<?php $filter_template = $state->get('filter.template'); ?>			<select name="filter_template" class="inputbox" onchange="this.form.submit()">					<option value="0" <?php if ($filter_template == 0 ) echo " selected";?> >- Select template -</option>					<option value="-5" <?php if ($filter_template == -5 ) echo " selected";?> >Pascha</option>					<option value="-4" <?php if ($filter_template == -4 ) echo " selected";?> >Triodion</option>					<option value="-3" <?php if ($filter_template == -3 ) echo " selected";?> >Luke</option>					<option value="-2" <?php if ($filter_template == -2 ) echo " selected";?> >Pentecost</option>					<option value="-1" <?php if ($filter_template == -1 ) echo " selected";?> >Movable</option>					<option value="1" <?php if ($filter_template == 1 ) echo " selected";?> >(not from template)</option>					<option value="2" <?php if ($filter_template == 2 ) echo " selected";?> >(Every Year Same)</option>			</select>												<select name="filter_access" class="inputbox" onchange="this.form.submit()">							<option value=""><?php echo JText::_('JOPTION_SELECT_ACCESS');?></option>							<?php echo JHtml::_('select.options', JHtml::_('access.assetgroups'), 'value', 'text', $state->get('filter.access'));?>						</select>									</div>		</fieldset>		